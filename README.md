# AI服装アドバイザー付きカレンダーアプリ

カレンダー、手帳風のメモ管理（本棚）、そして東京のリアルタイム天気予報に基づいたAI服装アドバイザー機能を備えた、総合的な個人用手帳アプリケーションです。

## 機能一覧

### 📅 カレンダー (Calendar)

- 月表示および週表示（手帳スタイル）でスケジュールを確認できます。
- 予定（Event）と日々のメモ（Memo）を作成・管理できます。
- インターフェースは「設定」から日本語/英語の切り替えが可能です。

### 📚 本棚 (Bookshelf)

- 日々のメモを「本」として視覚的に管理できる「本棚」インターフェースです。
- 本をクリックすると、手書き風のノート画面で編集できます。
- 本の表紙デザインは自動生成され、ユニークな見た目を楽しめます。

### 👗 AI服装アドバイザー

- **リアルタイム天気予報**: Open-Meteo APIを使用し、東京の現在の天気を表示します。
- **スマート提案**: 気温や天候に基づいて、その日に適した服装をAIが提案します。
- **バイリンガル対応**: 選択した言語（日本語/英語）に合わせて、アドバイスの言語も切り替わります。
- **技術**: GoogleのGemini Flash AIモデルを使用しています。

---

## 前提条件

- **Docker Desktop**: インストールされ、起動している必要があります。
- **Gemini API Key**: Google AI Studioから取得した有効なAPIキーが必要です。

## セットアップと起動方法

### 1. 環境変数の設定

プロジェクトのルートディレクトリ（`d:\aipro\kadai\moku\`）で、APIキーを設定します。
現在は、`docker-compose.yml` 内の `services: app: environment` に `GEMINI_API_KEY` を直接記述するか、シェルで環境変数を設定することをお勧めします。

### 2. アプリケーションの起動

プロジェクトのルートディレクトリでターミナルを開き、以下のコマンドを実行してください：

```bash
docker-compose up -d --build
```

このコマンドにより以下の処理が行われます：

- Goバックエンドサーバー (`moku-app`) のビルドと起動
- PostgreSQLデータベース (`moku-db`) の起動

### 3. フロントエンドの起動 (開発モード)

```bash
cd frontend
npm install  # 初回のみ依存関係をインストール
npm run dev
```

### 4. アプリへのアクセス

ブラウザを開き、以下のアドレスにアクセスしてください：
https://localhost

---

## 使い方

### ホーム画面 (Home)

- **天気ウィジェット**: 今日の天気とおすすめの服装を確認できます。
- **言語切り替え**: 右上のボタンをクリックすると、日本語と英語が切り替わります。
- **ナビゲーション**: カレンダーまたは本棚へ移動できます。

### カレンダー画面 (Calendar)

- 日付をクリックして、新しい「予定」または「メモ」を追加します。
- 右上のボタンで「月表示」と「手帳（週）表示」を切り替えられます。

### 本棚画面 (Bookshelf)

- 「+ (新規)」の本をクリックして、新しいメモを作成します。
- 既存の本をクリックすると、内容の閲覧・編集ができます。
- メモは「保存」ボタンで保存されます。

## トラブルシューティング

- **AIアドバイザーのエラー**: 「スタイリストは休憩中です (Stylist is taking a nap)」と表示される場合：
  - `GEMINI_API_KEY` が正しく設定されているか確認してください。
  - バックエンドのログを確認してください： `docker logs moku-app-1`
  - インターネット接続を確認してください（Gemini APIへのアクセスが必要です）。

- **言語切り替え**: テキストが即座に反映されない場合は、ページをリロードしてみてください（通常は即座に反映されます）。
